<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Walk or Buss</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="{{ url_for('static', filename='js/config.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</head>
<body>

    <header class="app-header">
        <h1>Walk or Buss</h1>
        <p class="subtitle">愛知工業大学 → 八草駅</p>
    </header>

    <main class="card">

        <section class="decision">
            <div class="decision-icon">
                {% if judgment.simple_mode == "walk" %}
                    歩け!
                {% elif judgment.simple_mode == "bus" %}
                    バスに乗る!
                {% endif %}
            </div>
            <!-- <h2 style="color: #ff4500; font-size: 2rem; margin: 10px 0;">{{ judgment.decision }}</h2>
            <p class="decision-sub">{{ judgment.reason | safe }}</p> -->
        </section>

        <hr>

        <section class="next-bus">
            <div class="next-bus-left">
                <p class="label">次のバス</p>
            </div>
            <div class="next-bus-right">
                <p class="time" style="font-size: 1.5rem; font-weight: bold;">{{ judgment.bus_dep_time }}</p>
                {% if judgment.minutes_until_bus is not none %}
                    <p class="remain">あと {{ judgment.minutes_until_bus }}分</p>
                {% endif %}
            </div>
        </section>

        <hr>

        <section class="train-info">
            <p class="label">電車の方向別判定</p>

            <div class="train-card" style="border-left: 5px solid #ff4500; margin-bottom: 10px;">
                <h3>岡崎行き</h3>
                <p>次の電車：<strong>{{ judgment.okazaki.next_train }}</strong></p>
                <p>バスで行くと：{{ judgment.okazaki.bus_status }}</p>
                <p>歩いて行くと：{{ judgment.okazaki.walk_status }}</p>
            </div>

            <div class="train-card" style="border-left: 5px solid #0066cc;">
                <h3>高蔵寺行き</h3>
                <p>次の電車：<strong>{{ judgment.kozoji.next_train }}</strong></p>
                <p>バスで行くと：{{ judgment.kozoji.bus_status }}</p>
                <p>歩いて行くと：{{ judgment.kozoji.walk_status }}</p>
            </div>
        </section>

        <hr>

        <section class="weather">
        <p class="label">天気</p>

        <div class="weather-info">
            {% if weather == "Clear" %}
                <i data-lucide="sun"></i>

            {% elif weather == "Clouds" %}
                <i data-lucide="cloud"></i>

            {% elif weather == "Rain" or weather == "Drizzle" %}
                <i data-lucide="cloud-rain"></i>

            {% elif weather == "Snow" %}
                <i data-lucide="snowflake"></i>

            {% elif weather == "Thunderstorm" %}
                <i data-lucide="cloud-lightning"></i>

            {% else %}
                <i data-lucide="help-circle"></i>
                <span>不明</span>
            {% endif %}

            <span class="temperature"><strong>気温 : {{ temp }}</strong> ℃</span>
        </div>
    </section>

    </main>
    <script>
        lucide.createIcons();
    </script>
</body>
</html>