<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Walk or Buss</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="{{ url_for('static', filename='js/config.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</head>
<body>

    <header class="app-header">
        <h1>Walk or Buss</h1>
        <p class="subtitle">æ„›çŸ¥å·¥æ¥­å¤§å­¦ â†’ å…«è‰é§…</p>
    </header>

    <main class="card">

        <section class="decision">
            <div class="decision-icon">
                {% if "æ­©ã‘" in judgment.decision %}
                    ğŸš¶
                {% elif "ãƒã‚¹" in judgment.decision %}
                    ğŸšŒ
                {% elif "ãƒ€ãƒƒã‚·ãƒ¥" in judgment.decision %}
                    ğŸƒ
                {% else %}
                    âš–ï¸
                {% endif %}
            </div>
            <h2 style="color: #ff4500; font-size: 2rem; margin: 10px 0;">{{ judgment.decision }}</h2>
            <p class="decision-sub">{{ judgment.reason | safe }}</p>
        </section>

        <hr>

        <section class="next-bus">
            <div class="next-bus-left">
                <p class="label">æ¬¡ã®ãƒã‚¹</p>
            </div>
            <div class="next-bus-right">
                <p class="time" style="font-size: 1.5rem; font-weight: bold;">{{ judgment.bus_dep_time }}</p>
                {% if judgment.minutes_until_bus is not none %}
                    <p class="remain">ã‚ã¨ {{ judgment.minutes_until_bus }}åˆ†</p>
                {% endif %}
            </div>
        </section>

        <hr>

        <section class="train-info">
            <p class="label">é›»è»Šã®æ–¹å‘åˆ¥åˆ¤å®š</p>

            <div class="train-card" style="border-left: 5px solid #ff4500; margin-bottom: 10px;">
                <h3>å²¡å´è¡Œã</h3>
                <p>æ¬¡ã®é›»è»Šï¼š<strong>{{ judgment.okazaki.next_train }}</strong></p>
                <p>ãƒã‚¹ã§è¡Œãã¨ï¼š{{ judgment.okazaki.bus_status }}</p>
                <p>æ­©ã„ã¦è¡Œãã¨ï¼š{{ judgment.okazaki.walk_status }}</p>
            </div>

            <div class="train-card" style="border-left: 5px solid #0066cc;">
                <h3>é«˜è”µå¯ºè¡Œã</h3>
                <p>æ¬¡ã®é›»è»Šï¼š<strong>{{ judgment.kozoji.next_train }}</strong></p>
                <p>ãƒã‚¹ã§è¡Œãã¨ï¼š{{ judgment.kozoji.bus_status }}</p>
                <p>æ­©ã„ã¦è¡Œãã¨ï¼š{{ judgment.kozoji.walk_status }}</p>
            </div>
        </section>

        <hr>

        <section class="weather">
        <p class="label">å¤©æ°—</p>

        <div class="weather-info">
            {% if weather == "Clear" %}
                <i data-lucide="sun"></i>

            {% elif weather == "Clouds" %}
                <i data-lucide="cloud"></i>

            {% elif weather == "Rain" or weather == "Drizzle" %}
                <i data-lucide="cloud-rain"></i>

            {% elif weather == "Snow" %}
                <i data-lucide="snowflake"></i>

            {% elif weather == "Thunderstorm" %}
                <i data-lucide="cloud-lightning"></i>

            {% else %}
                <i data-lucide="help-circle"></i>
                <span>ä¸æ˜</span>
            {% endif %}

            <span class="temperature"><strong>æ°—æ¸© : {{ temp }}</strong> â„ƒ</span>
        </div>
    </section>

    </main>
    <script>
        lucide.createIcons();
    </script>
</body>
</html>